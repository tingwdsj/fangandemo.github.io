<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>方案预览 - 方案报告智写平台</title>
  <link rel="stylesheet" href="./assets/css/variables.css">
  <link rel="stylesheet" href="./assets/css/reset.css">
  <link rel="stylesheet" href="./assets/css/components.css">
  <link rel="stylesheet" href="./assets/css/pages/preview.css">
</head>
<body>
  <!-- 页面头部 -->
  <header class="header">
    <div class="header-container">
      <button class="btn-back" id="btn-home">
        <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21 20.4142 21C20.0391 21 19.5304 21 19 21H5C4.46957 21 3.96086 21 3.58579 21C3.21071 21 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        主页
      </button>
      <h1 class="page-title">方案预览</h1>
      <div class="step-indicator">
        步骤: <span class="current-step">4</span>/4
      </div>
    </div>
  </header>

  <!-- 主内容区 -->
  <div class="main-container">
    <!-- 左侧目录导航 -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h3>📑 目录导航</h3>
      </div>
      <nav class="sidebar-nav" id="sidebar-nav">
        <!-- 目录将由JS生成 -->
      </nav>
    </aside>

    <!-- 右侧内容区 -->
    <main class="content">
      <!-- 章节标题和操作栏 -->
      <div class="content-header">
        <div class="chapter-title" id="chapter-title">1. 项目概述</div>
        <div class="header-actions">
          <button class="btn btn-secondary btn-sm" id="edit-btn">
            <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M18.5 2.5C18.8978 2.10217 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10217 21.5 2.5C21.8978 2.89783 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10217 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            编辑
          </button>
          <button class="btn btn-secondary btn-sm" id="rewrite-chapter-btn">
            <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1 4V10H7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M23 20V14H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M20.49 9C19.9828 7.56678 19.1209 6.28542 17.9845 5.27542C16.8482 4.26541 15.4745 3.55976 13.9917 3.22426C12.5089 2.88875 10.9652 2.93434 9.50481 3.35677C8.04437 3.77921 6.71475 4.56471 5.64 5.64L1 10M23 14L18.36 18.36C17.2853 19.4353 15.9556 20.2208 14.4952 20.6432C13.0348 21.0657 11.4911 21.1112 10.0083 20.7757C8.52547 20.4402 7.1518 19.7346 6.01547 18.7246C4.87913 17.7146 4.01717 16.4332 3.51 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            重新编写本章节
          </button>
        </div>
      </div>

      <!-- 内容显示区 -->
      <div class="content-display" id="content-display">
        <div class="document-content">
          <h1 class="doc-title">智慧城市技术方案</h1>

          <h2>1. 项目概述</h2>
          <hr class="divider">

          <p>本项目旨在构建一个现代化、智能化的智慧城市综合管理平台，通过整合城市各类数据资源，运用大数据、云计算、物联网等先进技术，实现城市管理的数字化、精细化和智能化。</p>

          <h3>1.1 项目背景</h3>
          <p>随着我国城市化进程的不断加快，城市规模持续扩大，人口数量快速增长，城市管理面临着前所未有的挑战。传统的城市管理模式已经难以适应现代城市发展的需求，亟需通过技术手段创新管理方式，提升管理效率。</p>

          <p>当前，我国正处于新型城镇化建设的关键时期，智慧城市建设已成为推动城市转型升级的重要抓手。通过建设智慧城市，可以有效提升城市运行效率、改善民生服务、优化营商环境，为城市可持续发展提供有力支撑。</p>

          <h3>1.2 项目目标</h3>
          <p>本项目的主要目标包括：</p>
          <ul class="doc-list">
            <li>构建统一的城市数据管理平台，实现各部门数据共享与业务协同</li>
            <li>建立智能化的城市运行监测体系，提升城市治理能力</li>
            <li>提供便捷的民生服务渠道，增强市民满意度</li>
            <li>优化城市资源配置，提高城市运行效率</li>
          </ul>

          <h2>2. 技术方案</h2>
          <hr class="divider">

          <h3>2.1 技术架构</h3>
          <p>本项目采用云原生架构，基于微服务设计理念，构建弹性可扩展的技术体系。整体架构分为基础设施层、数据层、平台层和应用层。</p>

          <h3>2.2 核心技术</h3>
          <ul class="doc-list">
            <li><strong>云计算平台：</strong>基于私有云部署，提供弹性计算资源</li>
            <li><strong>大数据引擎：</strong>采用Hadoop+Spark生态，实现海量数据处理</li>
            <li><strong>物联网平台：</strong>支持多协议接入，实现设备统一管理</li>
            <li><strong>人工智能引擎：</strong>集成机器学习算法，提供智能分析能力</li>
          </ul>
        </div>
      </div>

      <!-- 底部操作栏 -->
      <div class="actions-bar">
        <button class="btn btn-secondary btn-md" id="prev-chapter">
          <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          上一章
        </button>
        <button class="btn btn-secondary btn-md" id="rewrite-all-btn">
          <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1 4V10H7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M23 20V14H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M20.49 9C19.9828 7.56678 19.1209 6.28542 17.9845 5.27542C16.8482 4.26541 15.4745 3.55976 13.9917 3.22426C12.5089 2.88875 10.9652 2.93434 9.50481 3.35677C8.04437 3.77921 6.71475 4.56471 5.64 5.64L1 10M23 14L18.36 18.36C17.2853 19.4353 15.9556 20.2208 14.4952 20.6432C13.0348 21.0657 11.4911 21.1112 10.0083 20.7757C8.52547 20.4402 7.1518 19.7346 6.01547 18.7246C4.87913 17.7146 4.01717 16.4332 3.51 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          重新编写全文
        </button>
        <button class="btn btn-primary btn-md" id="download-btn">
          <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 15V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          下载全文
        </button>
        <button class="btn btn-secondary btn-md" id="next-chapter">
          下一章
          <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </main>
  </div>

  <!-- 重新编写章节模态框 -->
  <div class="modal-overlay" id="rewrite-modal">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">重新编写本章节</h3>
        <button class="btn-close" id="close-rewrite-modal">
          <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">请输入修改意见（选填）</label>
          <textarea class="textarea" id="rewrite-comment" maxlength="256" placeholder="请输入您对本章节的修改意见"></textarea>
          <div class="char-count"><span class="current-count">0</span>/256</div>
        </div>
        <div class="warning-tip">
          <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
            <path d="M12 8V12M12 16H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          将覆盖当前内容，是否继续？
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="cancel-rewrite-modal">取消</button>
        <button class="btn btn-primary" id="confirm-rewrite">确认生成</button>
      </div>
    </div>
  </div>

  <script src="./assets/js/pages/preview.js"></script>
</body>
</html>
